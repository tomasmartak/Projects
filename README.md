# Information

Welcome to my projects! This repository includes some of projects I've been working on in Python (Jupyter), shell scripting (bash), and R (R script in RStudio). They cover a variety of topics based on problems and datasets encountered in my lab at Terasom, and the solutions I came up with to solve them.

<em><strong>Disclaimer:</strong> I am pretty self-taught, except for R, on which I took a semester-long Life Sciences focused statistics course at the University of Glasgow. Use these scripts at your own peril - they are far from optimal and often include a mish-mash of solutions to problems I found on the fly. Currently, the scripts that best demonstrates my current capabilities can be found in the directories `MS 2023` and `ChIP-seq 2023` </em>

# Projects:
## MS 2023
<strong>Rationale:</strong> Our lab generated Mass Spectrometry data to find whether a protein of interest migrated to the nucleus or not. Since we had the data, I also set to find out whether I could identify any interesting protein-protein interactions. The experimental setup was a nuclear immunoprecipitation, with a treated and untreated sample, and an IgG control. There were however two replicates of Treatment and two of Control, and only one of the IgG control. The scripts in this file have a number of functions: 
  - a) generate a MS-GFplus alternative analysis to check against the MaxQuant analysis we obtained from the MS service
  - b) view peptide fractions for 1+ proteins of interest across different samples
  - c) construct a pipeline that would take information from MaxQuant's <strong>ProteinGroups.txt</strong> analysis files, compare them to sum/average/median-calculated protein-level intensities from <strong>evidence.txt</strong> and effectively identify interactions. This was successful. The output is an Excel workbook and a knitted .html document with volcano plots.

## ChIP-seq 2023
<strong>Rationale:</strong> Our lab generated ChIP-seq data to find out whether a protein of interest is a transcription factor (i.e. whether some bits of DNA are enriched in our IPs vs our controls). This folder contains a master .RMD document which references a number of bash/Python scripts also included therein - these are supportive and custom written to get a job done faster. At that time, I didn't have as much skills in R as I have now, and I compensated by looking up how to do stuff quicker in bash/Python. While I would've done it differently today, it did its job, and there isn't really a reason to revisit the scripts.

## Python: Spheroid Analyser (2022)
  - <strong>Rationale:</strong> our lab routinely generates spheroids. ImageJ was used to analyse brightfield spheroid images generated by an old microscope in which the camera and light are not completely centred, resulting in a slight light gradient from bottom left (dark) to top right (light). The status quo was doing everything by hand in the ImageJ GUI, which I found inhibitive when analysing ~200 images. Because the IJ macro language (as well as some of the options) seemed unfamiliar to me, I wrote this script to utilise headless ImageJ plugins on spheroid images modified with opencv-python.    
  - This opens as a Jupyter Notebook. Currently, this does not fully function as a standalone script yet - there are still some minor issues to iron out.
  - <strong>How it works:</strong> to use the script, manually input the path to a directory containing spheroid images (.jpg format only for now) into cell 2. Run cell 1 only once, the run cell 2 as many times as needed with various paths.

  - I have retained the fragmented bits of script I wrote during troubleshooting the final script in cells 3+. While not memory-efficient at all, they are a nice way of visualising the workflow and any potential problems.
  - I have also added three dummy images to try the script on in <a href="https://github.com/tomasmartak/Projects/tree/main/python/img"> Projects/img </a>
  - This script is currently not run within an environment. I know about python environments, but there is only so much information I can deal with before my head explodes. A .yaml file shall be added as soon as I gain more experience and learn to create and use environments properly.

## Linux bash: ChIP-seq mapper (2022)
  - <strong>Rationale:</strong> our lab sent off in-lab-prepared ChIP samples off for sequencing. I set out to learn how to ChIP-seq analysis on Linux using command line-based programmes. This is the original ChIP-seq mapper I came up with. The updated version (ChIP-seq 2023) can be found above.
  - <strong>How it works:</strong> either run in the command line with sh or create an alias. Either way, create a target directory (let's call this chipseq) containing a single child directory (chipseq/raw). This will contain your .fastq ChIP-seq files (currently the script only works with these). Run the script along with the path to the desired .fastq file. <strong> Make sure that you have an appropriate bowtie2 index and an appropriate blacklist somewhere; check the script and adjust the paths there to suite what you currently have, otherwise it will not work. </strong>  
  - <strong>Overview:</strong> make directory --> FastQC --> bowtie2 alignment --> format change (samtools) --> sorting (sambamba) --> filtering multimappers and duplicates (sambamba) --> create indices  for further analysis (samtools) --> detract blacklisted chromosome regions (bedtools) --> generate alignment statistics (samtools) --> cleanup files into prepared directories --> generate an overall QC report before peak calling (MultiQC).

  - <strong>WARNING:</strong> this script presumes you are running it on a PC with 8+ threads, and it is currently set at 7.
  - Major inspiration for this exercise: <a href="https://github.com/hbctraining/Intro-to-ChIPseq/blob/master/schedule/3-day.md"> Harvard's Bioinformatic Core (HBC) training </a>.
  - This script hasn't had batch mode enabled as of now, as the aforementioned mode hasn't been tested yet.
  - This script doesn't include any trimming and other such QOL changes after FastQC analysis of our samples. It would seem that Trimmomatic just keeps adding further layers of obfuscation towards my pitiful attempts at building it. Also, Adobe Ant sucks. I shall add Trimmomatic in as soon as I can actually get it to work.
  - The script only deals with mapping and QC visualisation as of now, unfortunately. I still have a lot to work on in terms of grep and such in bash, so I haven't gotten around to automating peak calling (MACS2) and visualisation (R script and R packages) yet.

## R: Mass Spectrometry result visualiser
  - <strong>Rationale:</strong> our lab sent off in-lab-prepared stained SDS-PAGE gel bands for MS analysis (5 samples). My colleague wanted to know
  - <strong>How it works:</strong> download the anonymised and pre-tweaked Mass Spectrometry <a href="https://github.com/tomasmartak/Projects/tree/main/R/raw"> .csv file </a>. Input the location of this into the R script (my IDE of choice is RStudio) and run it. Everything important should be commented.

  - Due to the existence of actual Mass Spectrometry result analysis and annotation pipelines, this script is pretty much useless. It was only good (perhaps) as an exercise for the uninitiated who had no idea of such pipelines before.  

## R: NIH Gene Ontology profile web scraper (2022)
  - <strong>Rationale:</strong> I was tasked to look through NIH GO databases and RNA-seq assays to find human tissue sample results for a specific protein and relate it to cancer recurrence. As this directly relates to our projects, I took the liberty of adding a dummy link to a similar assay using p53 instead.
  - <strong>How it works:</strong> Currently, this is to be run in an IDE (I prefer RStudio). Links to interesting assay results as well as data separators (e.g. recurrence vs no recurrence) have to be input manually, as well as graph descriptors. This can eventually be solved with computer vision, but at that time I had no idea I would ever even drift down that particular rabbit hole. For now, everything is to be done manually, and this remains a simple proof-of-concept that can be massively improved upon.
